function initDraw(t){function e(t){var e=t||window.event;e.pageX?(l.x=e.pageX+window.pageXOffset,l.y=e.pageY+window.pageYOffset):e.clientX&&(l.x=e.clientX+document.body.scrollLeft,l.y=e.clientY+document.body.scrollTop)}var l={x:0,y:0,startX:0,startY:0},n=null;t.onmousemove=function(t){e(t),null!==n&&(n.style.width=Math.abs(l.x-l.startX)+"px",n.style.height=Math.abs(l.y-l.startY)+"px",n.style.left=l.x-l.startX<0?l.x+"px":l.startX+"px",n.style.top=l.y-l.startY<0?l.y+"px":l.startY+"px")},t.onclick=function(e){null!==n?(n=null,t.style.cursor="default",console.log("finsihed.")):(console.log("begun."),l.startX=l.x,l.startY=l.y,(n=document.createElement("div")).className="rectangle",n.style.left=l.x+"px",n.style.top=l.y+"px",t.appendChild(n),t.style.cursor="crosshair")}}initDraw(document.getElementById("canvas"));